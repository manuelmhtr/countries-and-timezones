{"version":3,"file":"index.js","sources":["../src/build-country.js","../src/build-timezone.js","../src/index.js"],"sourcesContent":["let timezonesMap;\n\nexport default function buildCountry(data, id) {\n  const name = data.countries[id];\n  if (!name) return null;\n\n  const tzMap = getTimezonesMap(data)[id] || {};\n\n  return {\n    id,\n    name,\n    timezones: tzMap.current || [],\n    allTimezones: tzMap.all || [],\n  };\n}\n\nfunction getTimezonesMap(data) {\n  if (!timezonesMap) timezonesMap = buildTimezonesMap(data);\n  return timezonesMap;\n}\n\nfunction buildTimezonesMap(data) {\n  return Object.keys(data.timezones).reduce((result, id) => {\n    const tz = data.timezones[id];\n    const { c, a } = tz;\n    const aliasTz = data.timezones[a] || {};\n    const countries = c || aliasTz.c;\n\n    if (!countries) return result;\n\n    countries.forEach((country) => {\n      if (!result[country]) Object.assign(result, { [country]: { current: [], all: [] } });\n      if (tz.r === undefined) result[country].current.push(id);\n      result[country].all.push(id);\n    });\n\n    return result;\n  }, {});\n}\n","export default function buildTimezone(data, name) {\n  const timezone = data.timezones[name];\n  if (!timezone) return null;\n\n  const { a: aliasOf = null } = timezone;\n  const aliasTz = aliasOf ? data.timezones[aliasOf] : {};\n  const tz = {\n    ...aliasTz,\n    ...data.timezones[name],\n  };\n\n  const countries = tz.c || [];\n  const utcOffset = tz.u;\n  const dstOffset = Number.isInteger(tz.d) ? tz.d : utcOffset;\n\n  const result = {\n    name,\n    countries,\n    utcOffset,\n    utcOffsetStr: getOffsetStr(utcOffset),\n    dstOffset,\n    dstOffsetStr: getOffsetStr(dstOffset),\n    aliasOf,\n  };\n  if (timezone.r) result.deprecated = true;\n  return result;\n}\n\nfunction getOffsetStr(offset) {\n  const hours = Math.floor(offset / 60);\n  const min = offset % 60;\n  const sign = offset < 0 ? '-' : '+';\n\n  return `${sign}${getNumStr(hours)}:${getNumStr(min)}`;\n}\n\nfunction getNumStr(input) {\n  const num = Math.abs(input);\n  const prefix = num < 10 ? '0' : '';\n  return `${prefix}${num}`;\n}\n","import data from './data.json';\nimport buildCountry from './build-country';\nimport buildTimezone from './build-timezone';\n\nconst totalTimezones = Object.keys(data.timezones).length;\nconst countries = {};\nconst timezones = {};\nlet memoizedTimezones = 0;\n\nexport function getAllCountries(options = {}) {\n  return Object.keys(data.countries).reduce((prev, id) => {\n    return Object.assign(prev, { [id]: getCountry(id, options) });\n  }, {});\n}\n\nexport function getAllTimezones(options = {}) {\n  if (totalTimezones !== memoizedTimezones) Object.keys(data.timezones).forEach(getTimezone);\n  return deliverTimezones(timezones, options);\n}\n\nexport function getCountry(id, options = {}) {\n  if (!countries[id]) memoizeCountry(buildCountry(data, id));\n  return deliverCountry(countries[id], options);\n}\n\nfunction memoizeCountry(country) {\n  if (!country) return;\n  countries[country.id] = country;\n}\n\nexport function getTimezone(name) {\n  if (!timezones[name]) memoizeTimezone(buildTimezone(data, name));\n  return timezones[name] ? { ...timezones[name] } : null;\n}\n\nfunction memoizeTimezone(timezone) {\n  if (!timezone) return;\n  timezones[timezone.name] = timezone;\n  memoizedTimezones = Object.keys(timezone).length;\n}\n\nexport function getCountriesForTimezone(tzName, options = {}) {\n  const timezone = getTimezone(tzName) || {};\n  const values = timezone.countries || [];\n  return values.map((c) => getCountry(c, options));\n}\n\nexport function getCountryForTimezone(tzName, options = {}) {\n  const [main] = getCountriesForTimezone(tzName, options);\n  return main || null;\n}\n\nexport function getTimezonesForCountry(countryId, options = {}) {\n  const country = getCountry(countryId, options);\n  if (!country) return null;\n  const values = country.timezones || [];\n  return values.map(getTimezone);\n}\n\nfunction deliverTimezones(tzs, options) {\n  const { deprecated } = options || {};\n  if (deprecated === true) return tzs;\n  return Object.keys(tzs).reduce((prev, key) => {\n    if (!tzs[key].deprecated) Object.assign(prev, { [key]: tzs[key] });\n    return prev;\n  }, {});\n}\n\nfunction deliverCountry(country, options) {\n  if (!country) return null;\n  const { deprecated } = options || {};\n  const { allTimezones, ...other } = country;\n  const tz = deprecated ? country.allTimezones : country.timezones;\n  return { ...other, timezones: tz };\n}\n\nexport default {\n  getCountry,\n  getTimezone,\n  getAllCountries,\n  getAllTimezones,\n  getTimezonesForCountry,\n  getCountriesForTimezone,\n  getCountryForTimezone,\n};\n"],"names":["timezonesMap","buildCountry","data","id","name","countries","tzMap","getTimezonesMap","timezones","current","allTimezones","all","buildTimezonesMap","Object","keys","reduce","result","tz","c","a","aliasTz","forEach","country","assign","r","undefined","push","buildTimezone","timezone","aliasOf","utcOffset","u","dstOffset","Number","isInteger","d","utcOffsetStr","getOffsetStr","dstOffsetStr","deprecated","offset","hours","Math","floor","min","sign","getNumStr","input","num","abs","prefix","totalTimezones","length","memoizedTimezones","getAllCountries","options","prev","getCountry","getAllTimezones","getTimezone","deliverTimezones","memoizeCountry","deliverCountry","memoizeTimezone","getCountriesForTimezone","tzName","values","map","getCountryForTimezone","main","getTimezonesForCountry","countryId","tzs","key","other"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}